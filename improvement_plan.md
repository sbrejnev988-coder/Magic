# РџР»Р°РЅ СѓР»СѓС‡С€РµРЅРёСЏ MysticBot (Р±РµР· СЂР°СЃС€РёСЂРµРЅРёСЏ Р°СЃСЃРѕСЂС‚РёРјРµРЅС‚Р° СѓСЃР»СѓРі)

**Р¦РµР»СЊ:** РїРѕРІС‹СЃРёС‚СЊ РєР°С‡РµСЃС‚РІРѕ СЃСѓС‰РµСЃС‚РІСѓСЋС‰РёС… СѓСЃР»СѓРі, РїРѕР»СЊР·РѕРІР°С‚РµР»СЊСЃРєРёР№ РѕРїС‹С‚, РјРѕРЅРµС‚РёР·Р°С†РёСЋ, С‚РµС…РЅРёС‡РµСЃРєСѓСЋ РЅР°РґРµР¶РЅРѕСЃС‚СЊ.

## 1. РљР°С‡РµСЃС‚РІРѕ СЃСѓС‰РµСЃС‚РІСѓСЋС‰РёС… СѓСЃР»СѓРі

### 1.1. РўРѕС‡РЅРѕСЃС‚СЊ Рё РіР»СѓР±РёРЅР° РїСЂРµРґСЃРєР°Р·Р°РЅРёР№
- **РРЅС‚РµРіСЂР°С†РёСЏ СЃ РїСЂРѕРґРІРёРЅСѓС‚С‹РјРё AIвЂ‘РјРѕРґРµР»СЏРјРё** РґР»СЏ РёРЅС‚РµСЂРїСЂРµС‚Р°С†РёРё СЂР°СЃРєР»Р°РґРѕРІ С‚Р°СЂРѕ, РЅСѓРјРµСЂРѕР»РѕРіРёС‡РµСЃРєРёС… СЂР°СЃС‡С‘С‚РѕРІ, Р°СЃС‚СЂРѕР»РѕРіРёС‡РµСЃРєРёС… РєР°СЂС‚.
- **FineвЂ‘tuning РјРѕРґРµР»Рё** РЅР° СЌР·РѕС‚РµСЂРёС‡РµСЃРєРёС… С‚РµРєСЃС‚Р°С… (РєРѕСЂРїСѓСЃ РєРЅРёРі РїРѕ С‚Р°СЂРѕ, РЅСѓРјРµСЂРѕР»РѕРіРёРё, Р°СЃС‚СЂРѕР»РѕРіРёРё).
- **РџРµСЂСЃРѕРЅР°Р»РёР·Р°С†РёСЏ РѕС‚РІРµС‚РѕРІ** СЃ СѓС‡С‘С‚РѕРј РёСЃС‚РѕСЂРёРё РєРѕРЅСЃСѓР»СЊС‚Р°С†РёР№ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ, РµРіРѕ РїСЂРµРґРїРѕС‡С‚РµРЅРёР№, Р·РЅР°РєР° Р·РѕРґРёР°РєР°, С‡РёСЃР»Р° СЃСѓРґСЊР±С‹.
- **Р’Р°СЂРёР°С‚РёРІРЅРѕСЃС‚СЊ С„РѕСЂРјСѓР»РёСЂРѕРІРѕРє** вЂ“ РіРµРЅРµСЂР°С†РёСЏ СЂР°Р·РЅС‹С… РІР°СЂРёР°РЅС‚РѕРІ РѕРґРЅРѕРіРѕ Рё С‚РѕРіРѕ Р¶Рµ РїСЂРµРґСЃРєР°Р·Р°РЅРёСЏ, С‡С‚РѕР±С‹ РёР·Р±РµР¶Р°С‚СЊ С€Р°Р±Р»РѕРЅРЅРѕСЃС‚Рё.

### 1.2. Р‘Р°Р·Р° Р·РЅР°РЅРёР№ Рё СЌРєСЃРїРµСЂС‚РёР·Р°
- **РЎРѕР·РґР°РЅРёРµ СЃС‚СЂСѓРєС‚СѓСЂРёСЂРѕРІР°РЅРЅРѕР№ Р±Р°Р·С‹ Р·РЅР°РЅРёР№** (knowledge base) СЃ РїСЂРѕРІРµСЂРµРЅРЅРѕР№ РёРЅС„РѕСЂРјР°С†РёРµР№ РїРѕ РІСЃРµРј РЅР°РїСЂР°РІР»РµРЅРёСЏРј (С‚Р°СЂРѕ, РЅСѓРјРµСЂРѕР»РѕРіРёСЏ, Р°СЃС‚СЂРѕР»РѕРіРёСЏ, СЂСѓРЅС‹, СЃРѕРЅРЅРёРє).
- **Р РµРіСѓР»СЏСЂРЅРѕРµ РѕР±РЅРѕРІР»РµРЅРёРµ** РєРѕРЅС‚РµРЅС‚Р° (РЅРѕРІС‹Рµ С‚СЂР°РєС‚РѕРІРєРё, СЃРѕРІСЂРµРјРµРЅРЅС‹Рµ РёРЅС‚РµСЂРїСЂРµС‚Р°С†РёРё).
- **Р’РІРµРґРµРЅРёРµ СѓСЂРѕРІРЅРµР№ РєРѕРЅСЃСѓР»СЊС‚Р°С†РёРё**:
  - **Р‘Р°Р·РѕРІР°СЏ** (Р±РµСЃРїР»Р°С‚РЅРѕ) вЂ“ РєСЂР°С‚РєРёР№ РѕС‚РІРµС‚, РѕР±С‰РёРµ СЂРµРєРѕРјРµРЅРґР°С†РёРё.
  - **РЈРіР»СѓР±Р»С‘РЅРЅР°СЏ** (РїР»Р°С‚РЅРѕ) вЂ“ РґРµС‚Р°Р»СЊРЅС‹Р№ Р°РЅР°Р»РёР·, РґРѕРїРѕР»РЅРёС‚РµР»СЊРЅС‹Рµ СЂР°СЃРєР»Р°РґС‹, РёРЅРґРёРІРёРґСѓР°Р»СЊРЅС‹Рµ СЃРѕРІРµС‚С‹.

## 2. РџРѕР»СЊР·РѕРІР°С‚РµР»СЊСЃРєРёР№ РѕРїС‹С‚ (UX)

### 2.1. РќР°РІРёРіР°С†РёСЏ Рё РёРЅС‚РµСЂС„РµР№СЃ
- **РџРµСЂРµСЂР°Р±РѕС‚РєР° РіР»Р°РІРЅРѕРіРѕ РјРµРЅСЋ** вЂ“ РіСЂСѓРїРїРёСЂРѕРІРєР° СѓСЃР»СѓРі РїРѕ С‚РµРјР°Рј:
  - рџ”® **Р“Р°РґР°РЅРёСЏ** (С‚Р°СЂРѕ, СЂСѓРЅС‹, СЃРѕРЅРЅРёРє)
  - рџ“Љ **РЎР°РјРѕРїРѕР·РЅР°РЅРёРµ** (РЅСѓРјРµСЂРѕР»РѕРіРёСЏ, Р°СЃС‚СЂРѕР»РѕРіРёСЏ, РіРѕСЂРѕСЃРєРѕРї)
  - рџ§ **РџСЂР°РєС‚РёРєРё** (РјРµРґРёС‚Р°С†РёРё, С„РёРЅР°РЅСЃРѕРІС‹Р№ РєР°Р»РµРЅРґР°СЂСЊ)
  - рџ¤– **РРвЂ‘СЂРµР¶РёРјС‹** (AIвЂ‘РєРѕРЅСЃСѓР»СЊС‚Р°РЅС‚, РіРёР±СЂРёРґРЅС‹Р№ СЂРµР¶РёРј)
- **Р‘С‹СЃС‚СЂС‹Рµ РєРѕРјР°РЅРґС‹** (`/tarot_daily`, `/horoscope_today`, `/numerology_calc`) РґР»СЏ РµР¶РµРґРЅРµРІРЅС‹С… РґРµР№СЃС‚РІРёР№.
- **InlineвЂ‘РєР»Р°РІРёР°С‚СѓСЂС‹** СЃ РєРЅРѕРїРєР°РјРё В«Р”Р°Р»РµРµВ», В«РџРѕРґСЂРѕР±РЅРµРµВ», В«РСЃС‚РѕСЂРёСЏВ», В«РћС†РµРЅРёС‚СЊВ».
- **РџСЂРѕРіСЂРµСЃСЃвЂ‘РёРЅРґРёРєР°С‚РѕСЂС‹** РґР»СЏ РґРѕР»РіРёС… РѕРїРµСЂР°С†РёР№ (РіРµРЅРµСЂР°С†РёСЏ AI, СЂР°СЃС‡С‘С‚ РЅР°С‚Р°Р»СЊРЅРѕР№ РєР°СЂС‚С‹).

### 2.2. РћР±СЂР°С‚РЅР°СЏ СЃРІСЏР·СЊ Рё РІРѕРІР»РµС‡РµРЅРёРµ
- **РЎРёСЃС‚РµРјР° РѕС†РµРЅРѕРє** РїРѕСЃР»Рµ РєР°Р¶РґРѕР№ РєРѕРЅСЃСѓР»СЊС‚Р°С†РёРё (в…в†в†в†в† вЂ“ в…в…в…в…в…).
- **РћРїСЂРѕСЃС‹** СЂР°Р· РІ РјРµСЃСЏС†: В«Р§С‚Рѕ СѓР»СѓС‡С€РёС‚СЊ?В», В«РљР°РєРёРµ СѓСЃР»СѓРіРё РЅСЂР°РІСЏС‚СЃСЏ?В».
- **Р•Р¶РµРґРЅРµРІРЅС‹Рµ Р·Р°РґР°РЅРёСЏ** (В«РїРѕР»СѓС‡Рё СЂР°СЃРєР»Р°Рґ С‚Р°СЂРѕ вЂ“ РїРѕР»СѓС‡Рё 10 РєСЂРёСЃС‚Р°Р»Р»РѕРІВ»).
- **РЈРІРµРґРѕРјР»РµРЅРёСЏ** (С‚РѕР»СЊРєРѕ РІР°Р¶РЅС‹Рµ): РЅРѕРІРѕСЃС‚Рё Р±РѕС‚Р°, СЃРїРµС†РёР°Р»СЊРЅС‹Рµ РїСЂРµРґР»РѕР¶РµРЅРёСЏ.

## 3. РњРѕРЅРµС‚РёР·Р°С†РёСЏ

### 3.1. РџРѕРґРїРёСЃРєРё Рё РІРЅСѓС‚СЂРµРЅРЅСЏСЏ РІР°Р»СЋС‚Р°
- **РњРµСЃСЏС‡РЅР°СЏ/РіРѕРґРѕРІР°СЏ РїРѕРґРїРёСЃРєР°** В«Mystic ProВ»:
  - Р’СЃРµ РїР»Р°С‚РЅС‹Рµ СѓСЃР»СѓРіРё Р±РµР· РѕРіСЂР°РЅРёС‡РµРЅРёР№.
  - РџСЂРёРѕСЂРёС‚РµС‚РЅР°СЏ РѕС‡РµСЂРµРґСЊ РІ РіРёР±СЂРёРґРЅРѕРј СЂРµР¶РёРјРµ.
  - Р­РєСЃРєР»СЋР·РёРІРЅС‹Рµ РјРµРґРёС‚Р°С†РёРё/СЂР°СЃРєР»Р°РґС‹.
- **Р’РЅСѓС‚СЂРµРЅРЅСЏСЏ РІР°Р»СЋС‚Р° (РєСЂРёСЃС‚Р°Р»Р»С‹)**:
  - РџРѕРєСѓРїРєР° Р·Р° СЂСѓР±Р»Рё (1в‚Ѕ = 10 РєСЂРёСЃС‚Р°Р»Р»РѕРІ).
  - РќР°С‡РёСЃР»РµРЅРёРµ Р·Р° Р°РєС‚РёРІРЅРѕСЃС‚СЊ (daily login, СЂРµС„РµСЂР°Р»С‹).
  - РўСЂР°С‚Р° РЅР° СЂР°Р·РѕРІС‹Рµ РєРѕРЅСЃСѓР»СЊС‚Р°С†РёРё, СЂР°СЃС€РёС„СЂРѕРІРєРё.

### 3.2. РџР°РєРµС‚С‹ Рё РїР°СЂС‚РЅС‘СЂРєРё
- **РџР°РєРµС‚РЅС‹Рµ РїСЂРµРґР»РѕР¶РµРЅРёСЏ**: В«РќРµРґРµР»СЏ С‚Р°СЂРѕВ» (7 СЂР°СЃРєР»Р°РґРѕРІ Р·Р° 299в‚Ѕ), В«Р“РѕРґРѕРІРѕР№ РіРѕСЂРѕСЃРєРѕРїВ».
- **Р РµС„РµСЂР°Р»СЊРЅР°СЏ РїСЂРѕРіСЂР°РјРјР°**: РїСЂРёРіР»Р°СЃРё РґСЂСѓРіР° вЂ“ РїРѕР»СѓС‡Рё 100 РєСЂРёСЃС‚Р°Р»Р»РѕРІ.
- **РџР°СЂС‚РЅС‘СЂСЃС‚РІРѕ** СЃ СЌР·РѕС‚РµСЂРёС‡РµСЃРєРёРјРё РјР°РіР°Р·РёРЅР°РјРё, Р°СЃС‚СЂРѕР»РѕРіР°РјРё (РєРѕРјРёСЃСЃРёСЏ Р·Р° РїРµСЂРµС…РѕРґ).

### 3.3. РўРµС…РЅРёС‡РµСЃРєР°СЏ СЂРµР°Р»РёР·Р°С†РёСЏ
- **РРЅС‚РµРіСЂР°С†РёСЏ СЃ Stripe/PayPal** РґР»СЏ РїРѕРґРїРёСЃРѕРє.
- **Telegram Payments** РґР»СЏ СЂР°Р·РѕРІС‹С… РїРѕРєСѓРїРѕРє.
- **РђРІС‚РѕРјР°С‚РёС‡РµСЃРєРѕРµ РїСЂРѕРґР»РµРЅРёРµ РїРѕРґРїРёСЃРѕРє** (СЃ РЅР°РїРѕРјРёРЅР°РЅРёРµРј Р·Р° 3 РґРЅСЏ).

## 4. РўРµС…РЅРёС‡РµСЃРєР°СЏ РЅР°РґС‘Р¶РЅРѕСЃС‚СЊ

### 4.1. РћР±СЂР°Р±РѕС‚РєР° РѕС€РёР±РѕРє Рё РјРѕРЅРёС‚РѕСЂРёРЅРі
- **Graceful degradation** вЂ“ РїСЂРё РЅРµРґРѕСЃС‚СѓРїРЅРѕСЃС‚Рё РІРЅРµС€РЅРёС… API (Featherless, Perplexity) Р±РѕС‚ РїРµСЂРµРєР»СЋС‡Р°РµС‚СЃСЏ РЅР° Р»РѕРєР°Р»СЊРЅС‹Рµ Р°Р»РіРѕСЂРёС‚РјС‹ РёР»Рё СЃРѕРѕР±С‰Р°РµС‚ Рѕ РІСЂРµРјРµРЅРЅРѕР№ РїСЂРѕР±Р»РµРјРµ.
- **HealthвЂ‘checks** (HTTPвЂ‘СЌРЅРґРїРѕРёРЅС‚ `/health`) РґР»СЏ РјРѕРЅРёС‚РѕСЂРёРЅРіР° uptime.
- **РРЅС‚РµРіСЂР°С†РёСЏ СЃ Sentry** РґР»СЏ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРѕРіРѕ СЃР±РѕСЂР° РѕС€РёР±РѕРє.
- **РђР»РµСЂС‚С‹ РІ Telegram** РїСЂРё РїР°РґРµРЅРёРё Р±РѕС‚Р° (С‡РµСЂРµР· Р°РґРјРёРЅвЂ‘Р±РѕС‚Р°).

### 4.2. Р РµР·РµСЂРІРЅРѕРµ РєРѕРїРёСЂРѕРІР°РЅРёРµ Рё РІРѕСЃСЃС‚Р°РЅРѕРІР»РµРЅРёРµ
- **Р•Р¶РµРґРЅРµРІРЅС‹Р№ Р±СЌРєР°Рї Р‘Р”** (SQLite в†’ РѕР±Р»Р°РєРѕ).
- **РђРІС‚РѕРјР°С‚РёС‡РµСЃРєРѕРµ РІРѕСЃСЃС‚Р°РЅРѕРІР»РµРЅРёРµ** РїРѕСЃР»Рµ СЃР±РѕСЏ (supervisor process).
- **Р’РµСЂСЃРёРѕРЅРёСЂРѕРІР°РЅРёРµ РјРёРіСЂР°С†РёР№** С‡РµСЂРµР· Alembic (СѓР¶Рµ РµСЃС‚СЊ).

## 5. РђСЂС…РёС‚РµРєС‚СѓСЂР° Рё РєРѕРґ

### 5.1. Р РµС„Р°РєС‚РѕСЂРёРЅРі Рё С‚РµСЃС‚РёСЂРѕРІР°РЅРёРµ
- **Р’РЅРµРґСЂРµРЅРёРµ DIвЂ‘РєРѕРЅС‚РµР№РЅРµСЂР°** (dependencyвЂ‘injector) РґР»СЏ СѓРїСЂР°РІР»РµРЅРёСЏ Р·Р°РІРёСЃРёРјРѕСЃС‚СЏРјРё (sessionmaker, llm_service).
- **Р•РґРёРЅС‹Р№ SessionFactory** вЂ“ СѓР±СЂР°С‚СЊ СЃРѕР·РґР°РЅРёРµ engine РІ РєР°Р¶РґРѕРј РѕР±СЂР°Р±РѕС‚С‡РёРєРµ.
- **UnitвЂ‘С‚РµСЃС‚С‹** (pytest + pytestвЂ‘asyncio) РґР»СЏ РєСЂРёС‚РёС‡РЅС‹С… СЃРµСЂРІРёСЃРѕРІ (llm, payments).
- **РРЅС‚РµРіСЂР°С†РёРѕРЅРЅС‹Рµ С‚РµСЃС‚С‹** РґР»СЏ СЂРѕСѓС‚РµСЂРѕРІ.

### 5.2. РљСЌС€РёСЂРѕРІР°РЅРёРµ Рё РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ
- **Redis** РґР»СЏ РєСЌС€РёСЂРѕРІР°РЅРёСЏ:
  - Р РµР·СѓР»СЊС‚Р°С‚РѕРІ AIвЂ‘Р·Р°РїСЂРѕСЃРѕРІ (TTL 1 С‡Р°СЃ).
  - РџРѕРїСѓР»СЏСЂРЅС‹С… СЂР°СЃРєР»Р°РґРѕРІ С‚Р°СЂРѕ.
  - РЎС‚Р°С‚РёС‡РµСЃРєРёС… РґР°РЅРЅС‹С… (РіРѕСЂРѕСЃРєРѕРїС‹ РЅР° РґРµРЅСЊ).
- **Connection pooling** РґР»СЏ Р‘Р” (СѓР¶Рµ РЅР°СЃС‚СЂРѕРµРЅРѕ РІ engine).
- **Р›РµРЅРёРІР°СЏ Р·Р°РіСЂСѓР·РєР°** С‚СЏР¶С‘Р»С‹С… РјРѕРґСѓР»РµР№ (Р°СЃС‚СЂРѕР»РѕРіРёС‡РµСЃРєРёРµ РІС‹С‡РёСЃР»РµРЅРёСЏ).

### 5.3. РњРёРєСЂРѕСЃРµСЂРІРёСЃРЅС‹Р№ РїРѕРґС…РѕРґ (РѕРїС†РёРѕРЅР°Р»СЊРЅРѕ)
- **Р’С‹РґРµР»РµРЅРёРµ AIвЂ‘СЃРµСЂРІРёСЃР°** РІ РѕС‚РґРµР»СЊРЅС‹Р№ РїСЂРѕС†РµСЃСЃ/РєРѕРЅС‚РµР№РЅРµСЂ.
- **Message broker** (RabbitMQ) РґР»СЏ Р°СЃРёРЅС…СЂРѕРЅРЅРѕР№ РѕР±СЂР°Р±РѕС‚РєРё РґРѕР»РіРёС… Р·Р°РґР°С‡ (СЂР°СЃС‡С‘С‚ РЅР°С‚Р°Р»СЊРЅРѕР№ РєР°СЂС‚С‹).
- **API Gateway** РґР»СЏ СѓРїСЂР°РІР»РµРЅРёСЏ Р·Р°РїСЂРѕСЃР°РјРё (РµСЃР»Рё Р±СѓРґРµС‚ РЅРµСЃРєРѕР»СЊРєРѕ Р±РѕС‚РѕРІ).

## 6. Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ

### 6.1. Р—Р°С‰РёС‚Р° РѕС‚ Р·Р»РѕСѓРїРѕС‚СЂРµР±Р»РµРЅРёР№
- **Rate limiting** (СѓР¶Рµ РµСЃС‚СЊ) вЂ“ РїСЂРѕРґР»РёС‚СЊ РЅР° РІСЃРµ СЌРЅРґРїРѕРёРЅС‚С‹.
- **РљР°РїС‡Р°** РїРѕСЃР»Рµ 5 РЅРµСѓРґР°С‡РЅС‹С… РїРѕРїС‹С‚РѕРє РІРІРѕРґР° РїР»Р°С‚С‘Р¶РЅС‹С… РґР°РЅРЅС‹С….
- **Р‘Р»РѕРєРёСЂРѕРІРєР° СЃРїР°РјвЂ‘Р°РєРєР°СѓРЅС‚РѕРІ** РїРѕ РїРѕРІРµРґРµРЅС‡РµСЃРєРёРј РїР°С‚С‚РµСЂРЅР°Рј.

### 6.2. РЁРёС„СЂРѕРІР°РЅРёРµ Рё Р°СѓРґРёС‚
- **РЁРёС„СЂРѕРІР°РЅРёРµ С‡СѓРІСЃС‚РІРёС‚РµР»СЊРЅС‹С… РїРѕР»РµР№ Р‘Р”** (РЅРѕРјРµСЂР° РєР°СЂС‚, email) СЃ РїРѕРјРѕС‰СЊСЋ Fernet.
- **Р РµРіСѓР»СЏСЂРЅС‹Р№ Р°СѓРґРёС‚ Р·Р°РІРёСЃРёРјРѕСЃС‚РµР№** (`pip-audit`, `safety`).
- **РР·РѕР»СЏС†РёСЏ APIвЂ‘РєР»СЋС‡РµР№** РІ HashiCorp Vault РёР»Рё Р°РЅР°Р»РѕРіРµ.

### 6.3. РђСѓС‚РµРЅС‚РёС„РёРєР°С†РёСЏ Р°РґРјРёРЅРѕРІ
- **TwoвЂ‘factor authentication** РґР»СЏ Р°РґРјРёРЅвЂ‘РїР°РЅРµР»Рё.
- **Р–СѓСЂРЅР°Р» РґРµР№СЃС‚РІРёР№ Р°РґРјРёРЅРѕРІ** (РєС‚Рѕ РїРѕРґС‚РІРµСЂРґРёР» РѕРїР»Р°С‚Сѓ, РєС‚Рѕ РёР·РјРµРЅРёР» РЅР°СЃС‚СЂРѕР№РєРё).

## 7. РџСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ

### 7.1. РћРїС‚РёРјРёР·Р°С†РёСЏ СЂРµСЃСѓСЂСЃРѕРІ
- **РЎР¶Р°С‚РёРµ РїРµСЂРµРґР°РІР°РµРјС‹С… РґР°РЅРЅС‹С…** (gzip РґР»СЏ JSONвЂ‘РѕС‚РІРµС‚РѕРІ).
- **РћРїС‚РёРјРёР·Р°С†РёСЏ РёР·РѕР±СЂР°Р¶РµРЅРёР№** (РјРµРґРёС‚Р°С†РёРё, РєР°СЂС‚С‹ С‚Р°СЂРѕ) вЂ“ РїРµСЂРµС…РѕРґ РЅР° WebP.
- **РСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ CDN** РґР»СЏ СЃС‚Р°С‚РёС‡РµСЃРєРёС… С„Р°Р№Р»РѕРІ (РµСЃР»Рё РїРѕСЏРІСЏС‚СЃСЏ).

### 7.2. РњРѕРЅРёС‚РѕСЂРёРЅРі РјРµС‚СЂРёРє
- **Prometheus + Grafana** РґР»СЏ СЃР±РѕСЂР° РјРµС‚СЂРёРє:
  - Р’СЂРµРјСЏ РѕС‚РІРµС‚Р° Р±РѕС‚Р°.
  - РљРѕР»РёС‡РµСЃС‚РІРѕ Р°РєС‚РёРІРЅС‹С… РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№.
  - РџРѕРїСѓР»СЏСЂРЅРѕСЃС‚СЊ СѓСЃР»СѓРі (С‚Р°СЂРѕ vs РЅСѓРјРµСЂРѕР»РѕРіРёСЏ).
- **Р›РѕРіРёСЂРѕРІР°РЅРёРµ СЃС‚СЂСѓРєС‚СѓСЂРёСЂРѕРІР°РЅРЅРѕРµ** (JSON) РґР»СЏ Р°РЅР°Р»РёР·Р°.

## 8. РђРЅР°Р»РёС‚РёРєР° Рё РѕР±СЂР°С‚РЅР°СЏ СЃРІСЏР·СЊ

### 8.1. РЎР±РѕСЂ РґР°РЅРЅС‹С…
- **РРЅС‚РµРіСЂР°С†РёСЏ СЃ Google Analytics** (С‡РµСЂРµР· Measurement Protocol).
- **Р”Р°С€Р±РѕСЂРґ Р°РґРјРёРЅР°** СЃ РіСЂР°С„РёРєР°РјРё:
  - Р”РѕС…РѕРґС‹ РїРѕ РґРЅСЏРј/РЅРµРґРµР»СЏРј.
  - РљРѕРЅРІРµСЂСЃРёСЏ (РїСЂРѕСЃРјРѕС‚СЂ в†’ РѕРїР»Р°С‚Р°).
  - РЈРґРµСЂР¶Р°РЅРёРµ РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№ (retention).
- **РђРІС‚РѕРјР°С‚РёС‡РµСЃРєРёРµ РѕС‚С‡С‘С‚С‹** СЂР°Р· РІ РЅРµРґРµР»СЋ (Telegram, email).

### 8.2. A/B С‚РµСЃС‚РёСЂРѕРІР°РЅРёРµ
- **РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ РёРЅС‚РµСЂС„РµР№СЃРѕРІ** (РєРЅРѕРїРєРё vs РєРѕРјР°РЅРґС‹).
- **РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ С†РµРЅ** (299в‚Ѕ vs 399в‚Ѕ Р·Р° РїР°РєРµС‚).
- **РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ РїСЂРѕРјРїС‚РѕРІ** РґР»СЏ AI (РєР°РєРѕР№ РґР°С‘С‚ Р±РѕР»РµРµ РєР°С‡РµСЃС‚РІРµРЅРЅС‹Рµ РѕС‚РІРµС‚С‹).

## 9. Р”РѕСЂРѕР¶РЅР°СЏ РєР°СЂС‚Р° (РїСЂРёРјРµСЂРЅС‹Рµ СЃСЂРѕРєРё)

| Р¤Р°Р·Р° | РЎСЂРѕРє | Р—Р°РґР°С‡Рё |
|------|------|--------|
| **РЎС‚Р°Р±РёР»РёР·Р°С†РёСЏ** | 1вЂ“2 РЅРµРґРµР»Рё | Р¤РёРєСЃ РѕСЃС‚Р°РІС€РёС…СЃСЏ Р±Р°РіРѕРІ, СѓРґР°Р»РµРЅРёРµ РґСѓР±Р»РёРєР°С‚РѕРІ (`bot/start.py`), РєРѕРЅСЃРѕР»РёРґР°С†РёСЏ РјРёРіСЂР°С†РёР№ (Alembic), РЅР°СЃС‚СЂРѕР№РєР° Sentry. |
| **Р РµС„Р°РєС‚РѕСЂРёРЅРі** | 3вЂ“4 РЅРµРґРµР»Рё | DIвЂ‘РєРѕРЅС‚РµР№РЅРµСЂ, РµРґРёРЅС‹Р№ SessionFactory, СЂР°Р·РґРµР»РµРЅРёРµ config РЅР° Pydantic Settings, type hints, unitвЂ‘С‚РµСЃС‚С‹. |
| **Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ** | 4вЂ“5 РЅРµРґРµР»СЊ | РђСѓРґРёС‚ `.env.test`, rate limiter middleware, input sanitization, С€РёС„СЂРѕРІР°РЅРёРµ С‡СѓРІСЃС‚РІРёС‚РµР»СЊРЅС‹С… РґР°РЅРЅС‹С…. |
| **РРЅС„СЂР°СЃС‚СЂСѓРєС‚СѓСЂР°** | 5вЂ“6 РЅРµРґРµР»СЊ | CI/CD (GitHub Actions), DockerвЂ‘РѕРїС‚РёРјРёР·Р°С†РёСЏ, РјРѕРЅРёС‚РѕСЂРёРЅРі (Prometheus), healthвЂ‘checks. |
| **РњРѕРЅРµС‚РёР·Р°С†РёСЏ** | 6вЂ“7 РЅРµРґРµР»СЊ | РџРѕРґРїРёСЃРєРё (Stripe), РІРЅСѓС‚СЂРµРЅРЅСЏСЏ РІР°Р»СЋС‚Р°, СЂРµС„РµСЂР°Р»СЊРЅР°СЏ РїСЂРѕРіСЂР°РјРјР°, РїР°РєРµС‚РЅС‹Рµ РїСЂРµРґР»РѕР¶РµРЅРёСЏ. |
| **РђРЅР°Р»РёС‚РёРєР°** | 7вЂ“8 РЅРµРґРµР»СЊ | Р”Р°С€Р±РѕСЂРґ Р°РґРјРёРЅР°, РёРЅС‚РµРіСЂР°С†РёСЏ СЃ GA, A/B С‚РµСЃС‚С‹, Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРёРµ РѕС‚С‡С‘С‚С‹. |

## 10. РЎР»РµРґСѓСЋС‰РёРµ С€Р°РіРё

1. **РџСЂРёРѕСЂРёС‚РёР·Р°С†РёСЏ** вЂ“ РІС‹Р±СЂР°С‚СЊ 2вЂ“3 РЅР°РїСЂР°РІР»РµРЅРёСЏ РґР»СЏ СЃС‚Р°СЂС‚Р° (РЅР°РїСЂРёРјРµСЂ, РїРѕРґРїРёСЃРєРё + СЂРµС„Р°РєС‚РѕСЂРёРЅРі).
2. **РџРѕСЃС‚Р°РЅРѕРІРєР° Р·Р°РґР°С‡** вЂ“ СЃРѕР·РґР°С‚СЊ issues РІ GitHub СЃ РѕС†РµРЅРєРѕР№ РІСЂРµРјРµРЅРё.
3. **Р Р°Р·СЂР°Р±РѕС‚РєР°** вЂ“ РїРѕС€Р°РіРѕРІРѕРµ РІС‹РїРѕР»РЅРµРЅРёРµ РїР»Р°РЅР°.
4. **РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ** вЂ“ РєР°Р¶РґС‹Р№ СЌС‚Р°Рї РїСЂРѕРІРµСЂСЏС‚СЊ РЅР° СЂРµР°Р»СЊРЅС‹С… РїРѕР»СЊР·РѕРІР°С‚РµР»СЏС… (С„РѕРєСѓСЃвЂ‘РіСЂСѓРїРїР°).
5. **Р—Р°РјРµСЂ СЂРµР·СѓР»СЊС‚Р°С‚РѕРІ** вЂ“ РјРµС‚СЂРёРєРё РґРѕ/РїРѕСЃР»Рµ СѓР»СѓС‡С€РµРЅРёР№.

---

*РџР»Р°РЅ Р±СѓРґРµС‚ РґРѕРїРѕР»РЅРµРЅ СЂРµРєРѕРјРµРЅРґР°С†РёСЏРјРё РѕС‚ Perplexity РїРѕСЃР»Рµ РїРѕР»СѓС‡РµРЅРёСЏ РѕС‚РІРµС‚Р°.*