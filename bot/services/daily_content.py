"""
–°–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ä—É–Ω–∞ –¥–Ω—è, –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—è, –∫–∞—Ä—Ç–∞ –¢–∞—Ä–æ –∏ —Ç.–¥.)
"""

import logging
import random
from datetime import datetime, date
from typing import Dict, Any, Optional

logger = logging.getLogger(__name__)


class DailyContentService:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞."""
    
    # –†—É–Ω—ã (—Å—Ç–∞—Ä—à–∏–π —Ñ—É—Ç–∞—Ä–∫, 24 —Ä—É–Ω—ã)
    RUNES = [
        {"name": "·ö† Fehu", "meaning": "–°–∫–æ—Ç, –±–æ–≥–∞—Ç—Å—Ç–≤–æ, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", 
         "advice": "–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö, –Ω–æ –ø–æ–º–Ω–∏—Ç–µ –æ —â–µ–¥—Ä–æ—Å—Ç–∏."},
        {"name": "·ö¢ Uruz", "meaning": "–ó—É–±—Ä, —Å–∏–ª–∞, –∑–¥–æ—Ä–æ–≤—å–µ", 
         "advice": "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–∏–ª—É –¥–ª—è –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π."},
        {"name": "·ö¶ Thurisaz", "meaning": "–¢–æ—Ä, –∑–∞—â–∏—Ç–∞, –∫–æ–Ω—Ñ–ª–∏–∫—Ç", 
         "advice": "–ë—É–¥—å—Ç–µ –±–¥–∏—Ç–µ–ª—å–Ω—ã –∏ –∑–∞—â–∏—â–∞–π—Ç–µ —Å–≤–æ–∏ –≥—Ä–∞–Ω–∏—Ü—ã."},
        {"name": "·ö´ Ansuz", "meaning": "–ë–æ–≥, —Å–æ–æ–±—â–µ–Ω–∏–µ, –º—É–¥—Ä–æ—Å—Ç—å", 
         "advice": "–ü—Ä–∏—Å–ª—É—à–∞–π—Ç–µ—Å—å –∫ –∑–Ω–∞–∫–∞–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º –∏–∑–≤–Ω–µ."},
        {"name": "·ö± Raidho", "meaning": "–ü–æ–µ–∑–¥–∫–∞, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ", 
         "advice": "–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ—Å—å –≤ –ø—É—Ç—å ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∏–ª–∏ –¥—É—Ö–æ–≤–Ω—ã–π."},
        {"name": "·ö≤ Kenaz", "meaning": "–§–∞–∫–µ–ª, –∑–Ω–∞–Ω–∏–µ, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ", 
         "advice": "–ó–∞–∂–≥–∏—Ç–µ —Ñ–∞–∫–µ–ª —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º —Å–≤–µ—Ç–æ–º."},
        {"name": "·ö∑ Gebo", "meaning": "–î–∞—Ä, –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ, –æ–±–º–µ–Ω", 
         "advice": "–£—Ä–∞–≤–Ω–æ–≤–µ—à–∏–≤–∞–π—Ç–µ –æ—Ç–¥–∞—á—É –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö."},
        {"name": "·öπ Wunjo", "meaning": "–†–∞–¥–æ—Å—Ç—å, –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ, —É—Å–ø–µ—Ö", 
         "advice": "–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –º–æ–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–¥–æ—Å—Ç–∏ –∏ –ø—Ä–∞–∑–¥–Ω—É–π—Ç–µ —É—Å–ø–µ—Ö–∏."},
        {"name": "·ö∫ Hagalaz", "meaning": "–ì—Ä–∞–¥, —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ, —Å—Ç–∏—Ö–∏—è", 
         "advice": "–ü—Ä–∏–º–∏—Ç–µ –Ω–µ–∏–∑–±–µ–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω—ã ‚Äî –æ–Ω–∏ –æ—á–∏—â–∞—é—Ç –ø—É—Ç—å."},
        {"name": "·öæ Nauthiz", "meaning": "–ù—É–∂–¥–∞, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ, –≤—ã–∑–æ–≤", 
         "advice": "–¢–µ—Ä–ø–µ–Ω–∏–µ –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø–æ–º–æ–≥—É—Ç –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏."},
        {"name": "·õÅ Isa", "meaning": "–õ—ë–¥, –∑–∞—Å—Ç–æ–π, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞", 
         "advice": "–ó–∞–º–µ–¥–ª–∏—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤—Å—ë –æ–±–¥—É–º–∞—Ç—å. –î–µ–π—Å—Ç–≤—É–π—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ."},
        {"name": "·õÉ Jera", "meaning": "–£—Ä–æ–∂–∞–π, —Ü–∏–∫–ª, –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ", 
         "advice": "–ü–æ–∂–∏–Ω–∞–π—Ç–µ –ø–ª–æ–¥—ã —Å–≤–æ–∏—Ö —É—Å–∏–ª–∏–π. –¶–∏–∫–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è."},
        {"name": "·õá Eihwaz", "meaning": "–¢–∏—Å, –∑–∞—â–∏—Ç–∞, –ø–µ—Ä–µ—Ö–æ–¥", 
         "advice": "–î–æ–≤–µ—Ä—å—Ç–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å—É –ø–µ—Ä–µ—Ö–æ–¥–∞ ‚Äî –æ–Ω –≤–µ–¥—ë—Ç –∫ —Ä–æ—Å—Ç—É."},
        {"name": "·õà Perthro", "meaning": "–¢–∞–π–Ω–∞, —Å—É–¥—å–±–∞, –Ω–µ–≤–µ–¥–æ–º–æ–µ", 
         "advice": "–û—Ç–∫—Ä–æ–π—Ç–µ—Å—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –∏ —Ç–∞–π–Ω–∞–º —Å—É–¥—å–±—ã."},
        {"name": "·õâ Algiz", "meaning": "–õ–æ—Å—å, –∑–∞—â–∏—Ç–∞, –±–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", 
         "advice": "–ó–∞—â–∏—â–∞–π—Ç–µ —Å–≤–æ—é —ç–Ω–µ—Ä–≥–∏—é –∏ –±—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∫ –∑–Ω–∞–∫–∞–º."},
        {"name": "·õã Sowilo", "meaning": "–°–æ–ª–Ω—Ü–µ, –ø–æ–±–µ–¥–∞, —ç–Ω–µ—Ä–≥–∏—è", 
         "advice": "–°–∏—è–π—Ç–µ —è—Ä–∫–æ ‚Äî –≤–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç —É—Å–ø–µ—Ö."},
        {"name": "·õè Tiwaz", "meaning": "–¢—é—Ä, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –∂–µ—Ä—Ç–≤–∞", 
         "advice": "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —á–µ—Å—Ç–Ω–æ –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –∂–µ—Ä—Ç–≤."},
        {"name": "·õí Berkano", "meaning": "–ë–µ—Ä—ë–∑–∞, —Ä–æ—Å—Ç, –ø–ª–æ–¥–æ—Ä–æ–¥–∏–µ", 
         "advice": "–ü–æ–∑–∞–±–æ—Ç—å—Ç–µ—Å—å –æ –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏—è—Ö, –∫–∞–∫ –æ —Å–∞–∂–µ–Ω—Ü–∞—Ö."},
        {"name": "·õñ Ehwaz", "meaning": "–õ–æ—à–∞–¥—å, –¥–≤–∏–∂–µ–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å", 
         "advice": "–î–≤–∏–≥–∞–π—Ç–µ—Å—å –≤–ø–µ—Ä—ë–¥ –≤ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–µ –∏ –≥–∞—Ä–º–æ–Ω–∏–∏."},
        {"name": "·õó Mannaz", "meaning": "–ß–µ–ª–æ–≤–µ–∫, –æ–±—â–µ—Å—Ç–≤–æ, —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ", 
         "advice": "–ò—â–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ."},
        {"name": "·õö Laguz", "meaning": "–í–æ–¥–∞, –∏–Ω—Ç—É–∏—Ü–∏—è, –ø–æ—Ç–æ–∫", 
         "advice": "–î–æ–≤–µ—Ä—å—Ç–µ—Å—å –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –ø–ª—ã–≤–∏—Ç–µ –ø–æ —Ç–µ—á–µ–Ω–∏—é –∂–∏–∑–Ω–∏."},
        {"name": "·õù Ingwaz", "meaning": "–ò–Ω–≥, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–æ—Å—Ç", 
         "advice": "–í—Ä–µ–º—è –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã –∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞."},
        {"name": "·õü Othala", "meaning": "–ù–∞—Å–ª–µ–¥–∏–µ, –¥–æ–º, —Ç—Ä–∞–¥–∏—Ü–∏–∏", 
         "advice": "–¶–µ–Ω–∏—Ç–µ —Å–≤–æ–∏ –∫–æ—Ä–Ω–∏ –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —É—Å—Ç–æ–π—á–∏–≤–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ."},
        {"name": "·õû Dagaz", "meaning": "–î–µ–Ω—å, –ø—Ä–æ—Ä—ã–≤, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è", 
         "advice": "–û–∂–∏–¥–∞–π—Ç–µ –ø—Ä–æ—Ä—ã–≤–∞ –∏ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ."},
    ]
    
    # –ê—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–∏ –¥–Ω—è
    AFFIRMATIONS = [
        "–Ø –Ω–∞–ø–æ–ª–Ω–µ–Ω —ç–Ω–µ—Ä–≥–∏–µ–π –∏ —ç–Ω—Ç—É–∑–∏–∞–∑–º–æ–º.",
        "–ú–æ—è –∂–∏–∑–Ω—å –ø–æ–ª–Ω–∞ —Ä–∞–¥–æ—Å—Ç–∏ –∏ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏.",
        "–Ø –ø—Ä–∏–≤–ª–µ–∫–∞—é –∏–∑–æ–±–∏–ª–∏–µ –∏ –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏–µ.",
        "–Ø –¥–æ–≤–µ—Ä—è—é —Å–≤–æ–µ–º—É –ø—É—Ç–∏ –∏ –≤—ã—Å—à–µ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É.",
        "–Ø —Å–æ–∑–¥–∞—é –≥–∞—Ä–º–æ–Ω–∏—é –∏ –º–∏—Ä –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏.",
        "–Ø –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –ª—é–±–≤–∏ –∏ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.",
        "–Ø —Å–∏–ª—å–Ω—ã–π, resilient –∏ —Å–ø–æ—Å–æ–±–Ω—ã–π.",
        "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç –º–Ω–µ –Ω–æ–≤—ã–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏—è.",
        "–Ø –≤—ã–±–∏—Ä–∞—é –º—ã—Å–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–Ω–∏–º–∞—é—Ç –º–µ–Ω—è –≤—ã—à–µ.",
        "–Ø –¥–æ—Å—Ç–æ–∏–Ω —Å—á–∞—Å—Ç—å—è –∏ —É—Å–ø–µ—Ö–∞.",
        "–í—Å–µ–ª–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ–Ω—è –≤–æ –≤—Å–µ—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏—è—Ö.",
        "–Ø –∏–∑–ª—É—á–∞—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é.",
        "–ú–æ—è –∏–Ω—Ç—É–∏—Ü–∏—è –≤–µ–¥—ë—Ç –º–µ–Ω—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º.",
        "–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –≤—Å—ë, —á—Ç–æ –∏–º–µ—é.",
        "–Ø —Å–æ–∑–¥–∞—é –∂–∏–∑–Ω—å —Å–≤–æ–µ–π –º–µ—á—Ç—ã –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.",
    ]
    
    # –ö–∞—Ä—Ç—ã –¢–∞—Ä–æ (—Å—Ç–∞—Ä—à–∏–µ –∞—Ä–∫–∞–Ω—ã)
    TAROT_MAJOR = [
        {"name": "0 –®—É—Ç", "meaning": "–ù–∞—á–∞–ª–æ, –Ω–µ–≤–∏–Ω–Ω–æ—Å—Ç—å, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å", 
         "advice": "–î–æ–≤–µ—Ä—å—Ç–µ—Å—å –ø—É—Ç–∏ –∏ –±—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –Ω–æ–≤–æ–º—É."},
        {"name": "I –ú–∞–≥", "meaning": "–í–æ–ª—è, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ", 
         "advice": "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏."},
        {"name": "II –í–µ—Ä—Ö–æ–≤–Ω–∞—è –ñ—Ä–∏—Ü–∞", "meaning": "–ò–Ω—Ç—É–∏—Ü–∏—è, —Ç–∞–π–Ω–∞, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ", 
         "advice": "–ü—Ä–∏—Å–ª—É—à–∞–π—Ç–µ—Å—å –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –≥–æ–ª–æ—Å—É –∏ —Å–Ω–∞–º."},
        {"name": "III –ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞", "meaning": "–ò–∑–æ–±–∏–ª–∏–µ, –ø—Ä–∏—Ä–æ–¥–∞, –ø–ª–æ–¥–æ—Ä–æ–¥–∏–µ", 
         "advice": "–ü–∏—Ç–∞–π—Ç–µ —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∑–∞–±–æ—Ç–æ–π."},
        {"name": "IV –ò–º–ø–µ—Ä–∞—Ç–æ—Ä", "meaning": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞, –≤–ª–∞—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å", 
         "advice": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ—Ä—è–¥–æ–∫ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π."},
        {"name": "V –ò–µ—Ä–æ—Ñ–∞–Ω—Ç", "meaning": "–¢—Ä–∞–¥–∏—Ü–∏—è, –≤–µ—Ä–∞, —É—á–µ–Ω–∏–µ", 
         "advice": "–ò—â–∏—Ç–µ –º—É–¥—Ä–æ—Å—Ç—å –≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —É—á–µ–Ω–∏—è—Ö –∏ —Ä–∏—Ç—É–∞–ª–∞—Ö."},
        {"name": "VI –í–ª—é–±–ª—ë–Ω–Ω—ã–µ", "meaning": "–í—ã–±–æ—Ä, –≥–∞—Ä–º–æ–Ω–∏—è, –æ—Ç–Ω–æ—à–µ–Ω–∏—è", 
         "advice": "–°–¥–µ–ª–∞–π—Ç–µ –≤—ã–±–æ—Ä —Å–µ—Ä–¥—Ü–µ–º, –∞ –Ω–µ —Ä–∞–∑—É–º–æ–º."},
        {"name": "VII –ö–æ–ª–µ—Å–Ω–∏—Ü–∞", "meaning": "–ü–æ–±–µ–¥–∞, –¥–≤–∏–∂–µ–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–æ–ª—å", 
         "advice": "–ù–∞–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ—é —ç–Ω–µ—Ä–≥–∏—é –∫ —Ü–µ–ª–∏ —Å —Ä–µ—à–∏–º–æ—Å—Ç—å—é."},
        {"name": "VIII –°–∏–ª–∞", "meaning": "–ú—É–∂–µ—Å—Ç–≤–æ, —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏–ª–∞", 
         "advice": "–£–∫—Ä–æ—Ç–∏—Ç–µ —Å–≤–æ–∏ —Å—Ç—Ä–∞—Å—Ç–∏ –º—è–≥–∫–æ—Å—Ç—å—é, –∞ –Ω–µ —Å–∏–ª–æ–π."},
        {"name": "IX –û—Ç—à–µ–ª—å–Ω–∏–∫", "meaning": "–°–∞–º–æ–∞–Ω–∞–ª–∏–∑, —É–µ–¥–∏–Ω–µ–Ω–∏–µ, –º—É–¥—Ä–æ—Å—Ç—å", 
         "advice": "–£–π–¥–∏—Ç–µ –≤–Ω—É—Ç—Ä—å —Å–µ–±—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤."},
        {"name": "X –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã", "meaning": "–°—É–¥—å–±–∞, —Ü–∏–∫–ª—ã, —É–¥–∞—á–∞", 
         "advice": "–ü—Ä–∏–º–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω—ã –∫–∞–∫ —á–∞—Å—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞."},
        {"name": "XI –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å", "meaning": "–ë–∞–ª–∞–Ω—Å, –∫–∞—Ä–º–∞, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å", 
         "advice": "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —á–µ—Å—Ç–Ω–æ –∏ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è."},
        {"name": "XII –ü–æ–≤–µ—à–µ–Ω–Ω—ã–π", "meaning": "–°–¥–∞—á–∞, –∂–µ—Ä—Ç–≤–∞, –Ω–æ–≤–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞", 
         "advice": "–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ-–Ω–æ–≤–æ–º—É."},
        {"name": "XIII –°–º–µ—Ä—Ç—å", "meaning": "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ–Ω–µ—Ü, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ", 
         "advice": "–ü–æ–∑–≤–æ–ª—å—Ç–µ —Å—Ç–∞—Ä–æ–º—É —É–π—Ç–∏, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ."},
        {"name": "XIV –£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", "meaning": "–ë–∞–ª–∞–Ω—Å, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –≥–∞—Ä–º–æ–Ω–∏—è", 
         "advice": "–ù–∞–π–¥–∏—Ç–µ –∑–æ–ª–æ—Ç—É—é —Å–µ—Ä–µ–¥–∏–Ω—É –≤–æ –≤—Å–µ—Ö —Å—Ñ–µ—Ä–∞—Ö –∂–∏–∑–Ω–∏."},
        {"name": "XV –î—å—è–≤–æ–ª", "meaning": "–°–æ–±–ª–∞–∑–Ω, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ—Å—Ç—å", 
         "advice": "–û—Å–æ–∑–Ω–∞–π—Ç–µ —Å–≤–æ–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ—Å—å –æ—Ç –Ω–∏—Ö."},
        {"name": "XVI –ë–∞—à–Ω—è", "meaning": "–í–Ω–µ–∑–∞–ø–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ, —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ", 
         "advice": "–†–∞–∑—Ä—É—à–µ–Ω–∏–µ –∏–ª–ª—é–∑–∏–π –≤–µ–¥—ë—Ç –∫ –∏—Å—Ç–∏–Ω–µ."},
        {"name": "XVII –ó–≤–µ–∑–¥–∞", "meaning": "–ù–∞–¥–µ–∂–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å", 
         "advice": "–î–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å–µ–ª–µ–Ω–Ω–æ–π –∏ —Å–ª–µ–¥—É–π—Ç–µ –∑–∞ —Å–≤–æ–µ–π –º–µ—á—Ç–æ–π."},
        {"name": "XVIII –õ—É–Ω–∞", "meaning": "–ò–ª–ª—é–∑–∏—è, —Å—Ç—Ä–∞—Ö, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ", 
         "advice": "–°–≤–µ—Ç–∏—Ç–µ —Å–≤–µ—Ç–æ–º –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–≤–æ–∏ —Å—Ç—Ä–∞—Ö–∏."},
        {"name": "XIX –°–æ–ª–Ω—Ü–µ", "meaning": "–†–∞–¥–æ—Å—Ç—å, —É—Å–ø–µ—Ö, –∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏–ª–∞", 
         "advice": "–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∂–∏–∑–Ω—å—é –∏ –¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º —Å–≤–µ—Ç–æ–º."},
        {"name": "XX –°—É–¥", "meaning": "–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ, –ø—Ä–∏–∑—ã–≤, –ø—Ä–æ—â–µ–Ω–∏–µ", 
         "advice": "–ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–æ—â–µ–Ω–∏—è."},
        {"name": "XXI –ú–∏—Ä", "meaning": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ", 
         "advice": "–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –≥–∞—Ä–º–æ–Ω–∏–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ü–∏–∫–ª–∞."},
    ]
    
    # –ó–Ω–∞–∫–∏ –∑–æ–¥–∏–∞–∫–∞
    ZODIAC_SIGNS = [
        {"name": "–û–≤–µ–Ω", "dates": "21 –º–∞—Ä—Ç–∞ ‚Äì 19 –∞–ø—Ä–µ–ª—è", 
         "advice": "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —Å–º–µ–ª–æ, –Ω–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ –¥—Ä—É–≥–∏—Ö."},
        {"name": "–¢–µ–ª–µ—Ü", "dates": "20 –∞–ø—Ä–µ–ª—è ‚Äì 20 –º–∞—è", 
         "advice": "–¶–µ–Ω–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –±—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π."},
        {"name": "–ë–ª–∏–∑–Ω–µ—Ü—ã", "dates": "21 –º–∞—è ‚Äì 20 –∏—é–Ω—è", 
         "advice": "–ò—â–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –æ–±—â–µ–Ω–∏–µ–º –∏ —É–µ–¥–∏–Ω–µ–Ω–∏–µ–º."},
        {"name": "–†–∞–∫", "dates": "21 –∏—é–Ω—è ‚Äì 22 –∏—é–ª—è", 
         "advice": "–ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ –±–ª–∏–∑–∫–∏—Ö, –Ω–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ —Å–µ–±–µ."},
        {"name": "–õ–µ–≤", "dates": "23 –∏—é–ª—è ‚Äì 22 –∞–≤–≥—É—Å—Ç–∞", 
         "advice": "–°–∏—è–π—Ç–µ —è—Ä–∫–æ, –Ω–æ –¥–µ–ª–∏—Ç–µ—Å—å –≤–Ω–∏–º–∞–Ω–∏–µ–º —Å –¥—Ä—É–≥–∏–º–∏."},
        {"name": "–î–µ–≤–∞", "dates": "23 –∞–≤–≥—É—Å—Ç–∞ ‚Äì 22 —Å–µ–Ω—Ç—è–±—Ä—è", 
         "advice": "–°—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É, –Ω–æ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞."},
        {"name": "–í–µ—Å—ã", "dates": "23 —Å–µ–Ω—Ç—è–±—Ä—è ‚Äì 22 –æ–∫—Ç—è–±—Ä—è", 
         "advice": "–ò—â–∏—Ç–µ –≥–∞—Ä–º–æ–Ω–∏—é, –Ω–æ –Ω–µ –±–æ–π—Ç–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è."},
        {"name": "–°–∫–æ—Ä–ø–∏–æ–Ω", "dates": "23 –æ–∫—Ç—è–±—Ä—è ‚Äì 21 –Ω–æ—è–±—Ä—è", 
         "advice": "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ—é –≥–ª—É–±–∏–Ω—É –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏."},
        {"name": "–°—Ç—Ä–µ–ª–µ—Ü", "dates": "22 –Ω–æ—è–±—Ä—è ‚Äì 21 –¥–µ–∫–∞–±—Ä—è", 
         "advice": "–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –º–∏—Ä, –Ω–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ –∫–æ—Ä–Ω—è—Ö."},
        {"name": "–ö–æ–∑–µ—Ä–æ–≥", "dates": "22 –¥–µ–∫–∞–±—Ä—è ‚Äì 19 —è–Ω–≤–∞—Ä—è", 
         "advice": "–î–æ—Å—Ç–∏–≥–∞–π—Ç–µ —Ü–µ–ª–µ–π, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ –≤—Ä–µ–º—è –¥–ª—è –æ—Ç–¥—ã—Ö–∞."},
        {"name": "–í–æ–¥–æ–ª–µ–π", "dates": "20 —è–Ω–≤–∞—Ä—è ‚Äì 18 —Ñ–µ–≤—Ä–∞–ª—è", 
         "advice": "–ë—É–¥—å—Ç–µ –Ω–æ–≤–∞—Ç–æ—Ä–æ–º, –Ω–æ –æ—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é."},
        {"name": "–†—ã–±—ã", "dates": "19 —Ñ–µ–≤—Ä–∞–ª—è ‚Äì 20 –º–∞—Ä—Ç–∞", 
         "advice": "–î–æ–≤–µ—Ä—è–π—Ç–µ –∏–Ω—Ç—É–∏—Ü–∏–∏, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å."},
    ]
    
    @classmethod
    def _get_daily_seed(cls, user_id: Optional[int] = None) -> int:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç seed –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç—ã –∏ user_id –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏."""
        today = date.today()
        seed = today.year * 10000 + today.month * 100 + today.day
        if user_id:
            seed += user_id
        return seed
    
    @classmethod
    def get_rune_of_day(cls, user_id: Optional[int] = None) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∏—Ç—å —Ä—É–Ω—É –¥–Ω—è."""
        seed = cls._get_daily_seed(user_id)
        random.seed(seed)
        rune = random.choice(cls.RUNES)
        random.seed()  # —Å–±—Ä–æ—Å seed
        
        return {
            "rune": rune["name"],
            "meaning": rune["meaning"],
            "advice": rune["advice"],
            "emoji": "·ö†",
            "date": date.today().isoformat(),
        }
    
    @classmethod
    def get_affirmation_of_day(cls, user_id: Optional[int] = None) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∏—Ç—å –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—é –¥–Ω—è."""
        seed = cls._get_daily_seed(user_id)
        random.seed(seed)
        affirmation = random.choice(cls.AFFIRMATIONS)
        random.seed()
        
        return {
            "affirmation": affirmation,
            "emoji": "üí´",
            "date": date.today().isoformat(),
        }
    
    @classmethod
    def get_tarot_card_of_day(cls, user_id: Optional[int] = None) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –¢–∞—Ä–æ –¥–Ω—è."""
        seed = cls._get_daily_seed(user_id)
        random.seed(seed)
        card = random.choice(cls.TAROT_MAJOR)
        random.seed()
        
        return {
            "card": card["name"],
            "meaning": card["meaning"],
            "advice": card["advice"],
            "emoji": "üÉè",
            "date": date.today().isoformat(),
        }
    
    @classmethod
    def get_zodiac_advice_of_day(cls, sign: Optional[str] = None) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç –ø–æ –∑–Ω–∞–∫—É –∑–æ–¥–∏–∞–∫–∞."""
        if sign:
            sign_lower = sign.lower()
            for zodiac in cls.ZODIAC_SIGNS:
                if zodiac["name"].lower() == sign_lower:
                    return {
                        "sign": zodiac["name"],
                        "dates": zodiac["dates"],
                        "advice": zodiac["advice"],
                        "emoji": "‚ôà",
                    }
        
        # –ï—Å–ª–∏ –∑–Ω–∞–∫ –Ω–µ —É–∫–∞–∑–∞–Ω –∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—â–∏–π —Å–æ–≤–µ—Ç
        seed = cls._get_daily_seed()
        random.seed(seed)
        zodiac = random.choice(cls.ZODIAC_SIGNS)
        random.seed()
        
        return {
            "sign": zodiac["name"],
            "dates": zodiac["dates"],
            "advice": zodiac["advice"],
            "emoji": "‚ôà",
            "note": "–°–æ–≤–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞–∫–æ–≤",
        }
    
    @classmethod
    def get_daily_meditation_theme(cls) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–º—É –¥–ª—è –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –¥–Ω—è."""
        themes = [
            {"theme": "–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å", "duration": "10 –º–∏–Ω—É—Ç", 
             "instructions": "–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –¥—ã—Ö–∞–Ω–∏–∏, –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –º—ã—Å–ª–∏ –±–µ–∑ –æ—Ü–µ–Ω–∫–∏."},
            {"theme": "–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å", "duration": "5 –º–∏–Ω—É—Ç", 
             "instructions": "–í—Å–ø–æ–º–Ω–∏—Ç–µ —Ç—Ä–∏ –≤–µ—â–∏, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã —Å–µ–≥–æ–¥–Ω—è."},
            {"theme": "–õ—é–±—è—â–∞—è –¥–æ–±—Ä–æ—Ç–∞", "duration": "15 –º–∏–Ω—É—Ç", 
             "instructions": "–ù–∞–ø—Ä–∞–≤—å—Ç–µ –ª—é–±—è—â–∏–µ –º—ã—Å–ª–∏ –∫ —Å–µ–±–µ, –±–ª–∏–∑–∫–∏–º, –≤—Å–µ–º —Å—É—â–µ—Å—Ç–≤–∞–º."},
            {"theme": "–¢–µ–ª–æ-—Å–∫–∞–Ω–µ—Ä", "duration": "12 –º–∏–Ω—É—Ç", 
             "instructions": "–ú–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–µ–ª–æ –æ—Ç –º–∞–∫—É—à–∫–∏ –¥–æ –ø—è—Ç, –æ—Ç–º–µ—á–∞—è –æ—â—É—â–µ–Ω–∏—è."},
            {"theme": "–ó–≤—É–∫–æ–≤–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è", "duration": "8 –º–∏–Ω—É—Ç", 
             "instructions": "–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –æ–∫—Ä—É–∂–∞—é—â–∏—Ö –∑–≤—É–∫–∞—Ö, –Ω–µ –æ—Ü–µ–Ω–∏–≤–∞—è –∏—Ö."},
        ]
        
        seed = cls._get_daily_seed()
        random.seed(seed)
        theme = random.choice(themes)
        random.seed()
        
        return {
            "theme": theme["theme"],
            "duration": theme["duration"],
            "instructions": theme["instructions"],
            "emoji": "üßò",
        }
    
    @classmethod
    def generate_daily_notification(
        cls, 
        user_id: Optional[int] = None,
        include_rune: bool = True,
        include_affirmation: bool = True,
        include_tarot: bool = False,
        include_zodiac: bool = False,
        include_meditation: bool = False,
        zodiac_sign: Optional[str] = None,
    ) -> str:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ."""
        parts = []
        
        if include_rune:
            rune = cls.get_rune_of_day(user_id)
            parts.append(
                f"·ö± *–†—É–Ω–∞ –¥–Ω—è:* {rune['rune']}\n"
                f"*–ó–Ω–∞—á–µ–Ω–∏–µ:* {rune['meaning']}\n"
                f"*–°–æ–≤–µ—Ç:* {rune['advice']}\n"
            )
        
        if include_affirmation:
            affirmation = cls.get_affirmation_of_day(user_id)
            parts.append(
                f"üí´ *–ê—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—è –¥–Ω—è:*\n"
                f"¬´{affirmation['affirmation']}¬ª\n"
            )
        
        if include_tarot:
            tarot = cls.get_tarot_card_of_day(user_id)
            parts.append(
                f"üÉè *–ö–∞—Ä—Ç–∞ –¢–∞—Ä–æ –¥–Ω—è:* {tarot['card']}\n"
                f"*–ó–Ω–∞—á–µ–Ω–∏–µ:* {tarot['meaning']}\n"
                f"*–°–æ–≤–µ—Ç:* {tarot['advice']}\n"
            )
        
        if include_zodiac:
            zodiac = cls.get_zodiac_advice_of_day(zodiac_sign)
            parts.append(
                f"{zodiac['emoji']} *–°–æ–≤–µ—Ç –¥–ª—è {zodiac['sign']}:*\n"
                f"{zodiac['advice']}\n"
            )
        
        if include_meditation:
            meditation = cls.get_daily_meditation_theme()
            parts.append(
                f"üßò *–ú–µ–¥–∏—Ç–∞—Ü–∏—è –¥–Ω—è:* {meditation['theme']}\n"
                f"*–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:* {meditation['duration']}\n"
                f"*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:* {meditation['instructions']}\n"
            )
        
        if not parts:
            parts.append("–°–µ–≥–æ–¥–Ω—è –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏—Ö –≤ /settings!")
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏
        today = date.today().strftime("%d.%m.%Y")
        header = f"‚ú® *–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è –Ω–∞ {today}*\n\n"
        separator = "\n" + "‚îÄ" * 30 + "\n\n"
        
        return header + separator.join(parts)